package com.sweet.wx;import com.alibaba.druid.support.json.JSONUtils;import com.soecode.wxtools.api.IService;import com.soecode.wxtools.api.WxConsts;import com.soecode.wxtools.api.WxService;import com.soecode.wxtools.bean.WxMenu;import com.soecode.wxtools.exception.WxErrorException;import com.sweet.wx.wxconst.MenuKey;import java.util.ArrayList;import java.util.Arrays;import java.util.List;public class Menu {    public static void main(String[] args) {        IService iService = new WxService();        WxMenu menu = new WxMenu();        List<WxMenu.WxMenuButton> btnList = new ArrayList<>();        //菜单一        WxMenu.WxMenuButton btn1 = new WxMenu.WxMenuButton();        btn1.setName("听·耳说");        List<WxMenu.WxMenuButton> subList = new ArrayList<>();        WxMenu.WxMenuButton btn1_1 = new WxMenu.WxMenuButton();        btn1_1.setType(WxConsts.MENU_BUTTON_CLICK);        btn1_1.setKey(MenuKey.STORY);        btn1_1.setName("耳说故事");        WxMenu.WxMenuButton btn1_2 = new WxMenu.WxMenuButton();        btn1_2.setType(WxConsts.MENU_BUTTON_CLICK);        btn1_2.setKey(MenuKey.SERVICE);        btn1_2.setName("耳说服务");        WxMenu.WxMenuButton btn1_3 = new WxMenu.WxMenuButton();        btn1_3.setType(WxConsts.MENU_BUTTON_CLICK);        btn1_3.setKey(MenuKey.STANDARD);        btn1_3.setName("耳说标准");        WxMenu.WxMenuButton btn1_4 = new WxMenu.WxMenuButton();        btn1_4.setType(WxConsts.MENU_BUTTON_CLICK);        btn1_4.setKey(MenuKey.JOIN);        btn1_4.setName("加盟耳说");        subList.addAll(Arrays.asList(btn1_1, btn1_2, btn1_3, btn1_4));        //菜单二        WxMenu.WxMenuButton btn2 = new WxMenu.WxMenuButton();        btn2.setName("享·采耳");        List<WxMenu.WxMenuButton> subList2 = new ArrayList<>();        WxMenu.WxMenuButton btn2_1 = new WxMenu.WxMenuButton();        btn2_1.setUrl("http://mp.weixin.qq.com");        btn2_1.setType("miniprogram");        btn2_1.setKey("miniprogram");        btn2_1.setAppid("wx21d4d5cb0ec34439");        btn2_1.setPagepath("pages/main/main");        btn2_1.setName("注册会员");        WxMenu.WxMenuButton btn2_2 = new WxMenu.WxMenuButton();        btn2_2.setUrl("http://mp.weixin.qq.com");        btn2_2.setType("miniprogram");        btn2_2.setKey("miniprogram");        btn2_2.setAppid("wx21d4d5cb0ec34439");        btn2_2.setPagepath("pages/main/main");        btn2_2.setName("在线预约");        WxMenu.WxMenuButton btn2_3 = new WxMenu.WxMenuButton();        btn2_3.setUrl("http://mp.weixin.qq.com");        btn2_3.setType("miniprogram");        btn2_3.setKey("miniprogram");        btn2_3.setAppid("wx21d4d5cb0ec34439");        btn2_3.setPagepath("pages/main/main");        btn2_3.setName("线上商城");        subList2.addAll(Arrays.asList(btn2_1, btn2_2, btn2_3));        //菜单三        WxMenu.WxMenuButton btn3 = new WxMenu.WxMenuButton();        btn3.setName("悦·会员");        List<WxMenu.WxMenuButton> subList3 = new ArrayList<>();        WxMenu.WxMenuButton btn3_1 = new WxMenu.WxMenuButton();        btn3_1.setUrl("http://mp.weixin.qq.com");        btn3_1.setType("miniprogram");        btn3_1.setKey("miniprogram");        btn3_1.setAppid("wx21d4d5cb0ec34439");        btn3_1.setPagepath("pages/main/main");        btn3_1.setName("我的优惠券");        WxMenu.WxMenuButton btn3_2 = new WxMenu.WxMenuButton();        btn3_2.setUrl("http://mp.weixin.qq.com");        btn3_2.setType("miniprogram");        btn3_2.setKey("miniprogram");        btn3_2.setAppid("wx21d4d5cb0ec34439");        btn3_2.setPagepath("pages/main/main");        btn3_2.setName("我的账单");        WxMenu.WxMenuButton btn3_3 = new WxMenu.WxMenuButton();        btn3_3.setUrl("http://mp.weixin.qq.com");        btn3_3.setType("miniprogram");        btn3_3.setKey("miniprogram");        btn3_3.setAppid("wx21d4d5cb0ec34439");        btn3_3.setPagepath("pages/main/main");        btn3_3.setName("客服中心");        subList3.addAll(Arrays.asList(btn3_1, btn3_2, btn3_3));        btn1.setSub_button(subList);        btn2.setSub_button(subList2);        btn3.setSub_button(subList3);        //将三个按钮设置进btnList        btnList.add(btn1);        btnList.add(btn2);        btnList.add(btn3);        //设置进菜单类        menu.setButton(btnList);//        System.out.println(JSONUtils.toJSONString(menu));        //调用API即可        try {            //参数1--menu  ，参数2--是否是个性化定制。如果是个性化菜单栏，需要设置MenuRule            iService.createMenu(menu, false);        } catch (WxErrorException e) {            e.printStackTrace();        }    }}