package com.sweet.modular.system.controller;import com.baomidou.mybatisplus.extension.plugins.pagination.Page;import com.sweet.core.model.ResultBean;import com.sweet.core.model.system.DatabaseInfo;import com.sweet.core.model.system.LayuiPageFactory;import com.sweet.core.model.system.LayuiPageInfo;import com.sweet.core.util.DbUtil;import com.sweet.modular.system.model.LayFromDto;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestParam;import org.springframework.web.bind.annotation.ResponseBody;import javax.servlet.http.HttpServletRequest;import java.util.List;import java.util.Map;@Controller@RequestMapping("/admin/gen")public class GenController {    @Autowired    DatabaseInfo databaseInfo;    @RequestMapping("")    public String gen(){      return "/admin/gen/gen";    }    @RequestMapping("/tableList")    @ResponseBody    public LayuiPageInfo tableList(){        List<Map<String, Object>> maps = DbUtil.selectTables(databaseInfo);        Page<Map<String, Object>> objectPage = new Page<>();        objectPage.setRecords(maps);        return LayuiPageFactory.createPageInfo(objectPage);    }    @RequestMapping("/tableFields")    public String tableFields(){        return "/admin/gen/tableFields";    }    /**     * 获取表的字段列表     *     * @author fengshuonan     * @Date 2019/1/30 2:49 PM     */    @RequestMapping("/getTableFields")    @ResponseBody    public LayuiPageInfo getTableFields(String tableName) {        //获取对应表的所有字段        List<Map<String, Object>> tableFields = DbUtil.getTableFields(databaseInfo, tableName);        Page<Map<String, Object>> objectPage = new Page<>();        objectPage.setRecords(tableFields);        return LayuiPageFactory.createPageInfo(objectPage);    }    @RequestMapping("/setConditionFields")    @ResponseBody    public ResultBean setTableFields(String tableName, LayFromDto layFromDto) {        System.out.println(tableName);        System.out.println(layFromDto);        return ResultBean.success();    }}