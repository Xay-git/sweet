package com.sweet.wx.handler;import cn.hutool.json.JSONArray;import cn.hutool.json.JSONUtil;import com.soecode.wxtools.api.IService;import com.soecode.wxtools.api.WxMessageHandler;import com.soecode.wxtools.bean.WxXmlMessage;import com.soecode.wxtools.bean.WxXmlOutMessage;import com.soecode.wxtools.exception.WxErrorException;import com.sweet.core.util.HttpClientUtil;import com.sweet.wx.wxconst.ResponseConst;import java.util.Map;public class V2exHandler implements WxMessageHandler {    @Override    public WxXmlOutMessage handle(WxXmlMessage wxMessage, Map<String, Object> context, IService iService) throws WxErrorException {        WxXmlOutMessage response = execute(wxMessage);        return response;    }    private WxXmlOutMessage execute(WxXmlMessage wxMessage) {        String articles = "";        String json = HttpClientUtil.doGet("https://www.v2ex.com/api/topics/hot.json");        JSONArray jsonArray  = JSONUtil.parseArray(json);        for(Object obj:jsonArray){            Map map = (Map) obj;            String article =  "<a href='"+map.get("url")+"'>"+ map.get("title")+"</a>\uD83D\uDC48\uD83C\uDFFB\uD83D\uDC48\uD83C\uDFFB\n\n";//            String article =  map.get("title")+"\n";            articles += article;        }        System.out.println(articles);        return WxXmlOutMessage.TEXT().content(articles).toUser(wxMessage.getFromUserName()).fromUser(wxMessage.getToUserName()).build();    }}