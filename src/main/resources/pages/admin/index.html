<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>EasyWeb后台开发框架</title>
    <link rel="stylesheet" href="/common/libs/layui/css/layui.css"/>
    <link rel="stylesheet" href="/plugin/module/admin.css   "/>
    <script src="/plugin/vue/vue.min.js"></script>
    <script src="/plugin/vue/axios.min.js"></script>
    <script src="/plugin/vue/qs.min.js"></script>
    <script src="/common/js/request.js"></script>
    <script src="/modular/js/api.js"></script>

</head>
<body class="layui-layout-body">

    <div class="layui-layout layui-layout-admin" id="app">

        <!-- _header -->
        <% include("/common/_header.html"){} %>

        <!-- _left -->
        <% include("/common/_left.html"){} %>

        <!-- 主体部分 -->
        <div class="layui-body"></div>

        <!-- _footer -->
        <% include("/common/_footer.html"){} %>

    </div>

<!-- loading -->
<% include("/common/loading.html"){} %>


<!-- js部分 -->
<script type="text/javascript" src="/common/libs/layui/layui.js"></script>
<script type="text/javascript" src="/common/js/common.js"></script>
<script>


    var vm = new Vue({
        el: '#app',
        data: {
            msg: 'Hello World!',
            info:'',
            tree:[{
                "title": "菜单",
                "icon": "layui-icon-auz",
                "url": "/admin/menu"
            },{
                "title": "二级默认展开",
                "spread": true,
                "icon": "layui-icon-home",
                "list": [{
                    "title": "默认展开",
                    "spread": true,
                    "url": "/"
                }, {
                    "title": "二级",
                    "url": "home/homepage1.html"
                }]
            },{
                "title": "三级",
                "icon": "layui-icon-home",
                "list": [{
                    "title": "三级",
                    "list":[{
                        "title":"三级菜单",
                        "url":"http://www.baidu.com"
                    }]
                }, {
                    "title": "不是三级",
                    "url": "home/homepage2.html"
                }]
            }]
        },
        methods: {

        },
        mounted:async function() {
            vm = this;
            var data = (await api.getTableTree()).data;

            console.log(data);
            layui.use(['index'], function () {
                var index = layui.index;
                // 默认加载主页
                index.loadHome({
                    menuPath: '/admin/menu',
                    menuName: '菜单'
                });

            });
        },
        updated: function () {
        }
    })



</script>


</body>
</html>
