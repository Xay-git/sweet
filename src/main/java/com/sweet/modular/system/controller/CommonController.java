package com.sweet.modular.system.controller;import com.sweet.core.model.ResultBean;import com.sweet.modular.system.model.UploadResult;import com.sweet.modular.system.service.FileService;import org.apache.shiro.authz.annotation.RequiresRoles;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.RequestPart;import org.springframework.web.bind.annotation.ResponseBody;import org.springframework.web.multipart.MultipartFile;import java.util.HashMap;@Controller@RequestMapping("/admin/common")public class CommonController {    @Autowired    FileService fileService;    @RequestMapping("/console")    public String console(){        return "/admin/common/console";    }    @RequestMapping("/choose-icon")    public String choose(){        return "/admin/common/choose-icon";    }    @RequestMapping("/choose-avatar")    public String chooseAvatar(){        return "/admin/common/choose-avatar";    }    /**     * layui上传组件 通用文件上传接口     *     * @author fengshuonan     * @Date 2019-2-23 10:48:29     */    @RequestMapping(method = RequestMethod.POST, path = "/upload")    @ResponseBody    public ResultBean layuiUpload(@RequestPart("file") MultipartFile file,String fileSavePath) {        UploadResult uploadResult = fileService.uploadFile(file,fileSavePath);        String fileId = uploadResult.getFileId();        HashMap<String, Object> map = new HashMap<>();        map.put("fileId", fileId);        return ResultBean.success(0, "上传成功", map);    }}